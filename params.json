{"name":"MCL","tagline":"Bleeding edge Minecraft server wrapper (for snapshots, prereleases, etc.) providing at ton of features, mostly controlled via chat.","body":"# MCL - Minecraft Listener\r\n\r\nMCL is a ruby script which acts as a **wrapper** for your vanilla Minecraft server. It's original use was to autoupdate snapshot servers but it now offers a lot more features which are mostly controlled via chat commands. You can compare MCL to an IRC bot.\r\n\r\nIt should be somewhat easy to write custom commands but there are some gotchas to it. If you can't figure it out from\r\nthe shipped handlers just ask your question in the issues.\r\n\r\n## Help\r\nIf you need help or have problems [open an issue](https://github.com/2called-chaos/mcl/issues/new) or [chat with me](http://webchat.esper.net/?channels=mcl).\r\n\r\n\r\n## Features\r\n  * Monitors itself and your minecraft server and restart on crash\r\n  * Reload handlers/commands without restarting\r\n  * Simple **ACL** support (level based ACL)\r\n  * Snap2date - **autoupdate minecraft server**\r\n  * **Shortcuts**, shortcuts, shortcuts (potions effects, cheats, gamerules, ...)\r\n  * **Warps** - save and warp to coordinates\r\n  * **WorldEdit light** - selections, stacking and more (using 1.8 commands)\r\n  * **Schematic Builder** - paste schematics in vanilla (sort of)\r\n  * **Butcher** - kill entities like a pro\r\n  * **Worldbook** - switch between, backup and create new worlds (no, it's not multiverse)\r\n  * a lot more commands, shortcuts and awesome stuff...\r\n\r\n\r\n\r\n## Upcoming features\r\n  * **Backups** - backup and restore your worlds (scheduled or when you need it)\r\n  * **Flagbook** - Easy access to flags\r\n  * **Bannerbook** - Easy access to banners\r\n  * generally, add **more** books. books are good!\r\n  * [**» add something to the list**](https://github.com/2called-chaos/mcl/issues/new)\r\n\r\n\r\n\r\n## Facts\r\n  * MCL encourages you to **always make backups**. MCL is not to blame for any data loss.\r\n  * MCL may use features only available in snapshot versions but most parts should work for you.\r\n  * MCL starts the minecraft server for you, essentially wrapping it. Therefore, if MCL dies, your minecraft server\r\n    goes along with it. But MCL tries everything to prevent this from happening. It even restarts died servers.\r\n  * MCL is limited to what the Minecraft server console outputs and accepts in form of commands.\r\n  * MCL does not take away the Minecraft server console unless you start the server with `nogui`.\r\n  * **MCL does not modify minecraft** itself in any way! It's reading from and writing to the server console only.\r\n  * MCL may download, create, symlink, backup, restore, delete or modify files and folders inside your server folder.\r\n  * The buildin _!eval_ plugin is disabled by default because it's evil!\r\n  * When you see \"ticks\" somewhere it refers to the MCL loop. It has nothing to do with Minecraft ticks.\r\n\r\n\r\n## Requirements\r\n  * Ruby >= 1.9.3 (preferably >2) incl. RubyGems ([chruby](https://gist.github.com/2called-chaos/e06bf6322525d37a5bf7))\r\n    * Bundler gem (`gem install bundler`)\r\n  * git (`apt-get install git` / `brew install git`)\r\n  * Unixoid OS (such as Ubuntu/Debian, OS X, maybe others)\r\n    * Windows support is in the work\r\n  * local minecraft server(s)\r\n    * **WARNING:** Some feature require the gamerule `logAdminCommands` to be set to true!\r\n    * MCL heavily relies on server commands and implement snapshot features. If MCL features don't work your minecraft server version is probably outdated.\r\n\r\n\r\n## Installation\r\n  **WARNING: MCL isn't released yet and might not work for you**\r\n\r\n  <big>**[» Installation instructions (Debian/Ubuntu/OS X)](https://github.com/2called-chaos/mcl/blob/master/doc/installation_nix.md)**</big><br>\r\n  **» Installation instructions (Windows)** _not yet available_\r\n\r\n  **[» FAQ](https://github.com/2called-chaos/mcl/wiki/FAQ)**<br>\r\n  **[» Troubleshooting](https://github.com/2called-chaos/mcl/wiki/Troubleshooting)**\r\n\r\n\r\n## Deactivate handlers\r\nIf you want to deactivate buildin handlers (or 3rd party ones) just rename the file to start with two underscores (e.g.: `__warps.rb`).\r\n\r\n\r\n## Core handlers\r\nThere are some handlers which are considered core functionality and therefore are \"hidden\" inside the library folder. You should not deactivate these.\r\nBeside some regular parsers the core provides these commands with the permission level (ACL) accordingly:\r\n  * via [_lib/mcl/handlers/acl.rb_](https://github.com/2called-chaos/mcl/blob/master/lib/mcl/handlers/acl.rb)\r\n    * **!acl** (admin)\r\n    * **!op** (admin)\r\n    * **!deop** (admin)\r\n    * **!uadmin** (guest _but may only work when you are listed in the config_)\r\n  * via [_lib/mcl/handlers/core.rb_](https://github.com/2called-chaos/mcl/blob/master/lib/mcl/handlers/core.rb)\r\n    * **!danger** (admin)\r\n    * **!help** (guest)\r\n    * **!mclreboot** (admin)\r\n    * **!mclreload** (admin)\r\n    * **!mclshell** (root)\r\n    * **!mclupdate** (root)\r\n    * **!raw** (admin)\r\n    * **!stop** (admin)\r\n    * **!stopmc** (root)\r\n    * **!sprop** (root)\r\n    * **!version** (member)\r\n\r\n\r\n## Buildin handlers\r\nMCL ships with a few buildin handlers which you may deactivate if you want. They use a somewhat reasonable ACL setting\r\n(permission level) but you may alter these as well. At the moment there are these buildin handlers:\r\n\r\n  * **[Butcher](https://github.com/2called-chaos/mcl/blob/master/vendor/handlers/_buildin/butcher.rb)** Kill entities with convenience.\r\n  * **[Cheats](https://github.com/2called-chaos/mcl/blob/master/vendor/handlers/_buildin/cheats.rb)** Collection of cheaty things (although the rest isn't really better)\r\n  * **[Creative](https://github.com/2called-chaos/mcl/blob/master/vendor/handlers/_buildin/creative.rb)** Shortcuts for creative people\r\n  * **[Eval](https://github.com/2called-chaos/mcl/blob/master/vendor/handlers/_buildin/__eval.rb)** Eval remote ruby code from pastebin.com **disabled by default**\r\n  * **[Gamemode](https://github.com/2called-chaos/mcl/blob/master/vendor/handlers/_buildin/gamemode.rb)** Shortcuts for gamemodes.\r\n  * **[Gamerule](https://github.com/2called-chaos/mcl/blob/master/vendor/handlers/_buildin/gamerule.rb)** Shortcuts for gamerules.\r\n  * **[Lagtrack](https://github.com/2called-chaos/mcl/blob/master/vendor/handlers/_buildin/lagtrack/lagtrack.rb)** Keeps track of minecraft server lag and optionally announces it.\r\n  * **[Potion Effects](https://github.com/2called-chaos/mcl/blob/master/vendor/handlers/_buildin/potion_effects.rb)** Shortcuts for (mostly overpowered) potion effects.\r\n  * **[Schematic Builder](https://github.com/2called-chaos/mcl/blob/master/vendor/handlers/_buildin/schematic_builder.rb)** Sounds crazy? It is!\r\n  * **[Snap2date](https://github.com/2called-chaos/mcl/blob/master/vendor/handlers/_buildin/snap2date.rb)** Update to new snapshots automatically or just get notified.\r\n  * **[Teleport](https://github.com/2called-chaos/mcl/blob/master/vendor/handlers/_buildin/teleport.rb)** Handy !tp command and teleport book.\r\n  * **[Warps](https://github.com/2called-chaos/mcl/blob/master/vendor/handlers/_buildin/warps.rb)** Save coordinates (per world or global/per player or all), share them or just teleport there.\r\n  * **[Weather and Time](https://github.com/2called-chaos/mcl/blob/master/vendor/handlers/_buildin/weather_and_time.rb)** Shortcuts for weather and time commands/gamerules.\r\n  * **[Whois](https://github.com/2called-chaos/mcl/blob/master/vendor/handlers/_buildin/whois.rb)** Gives you a book with information about a player.\r\n  * **[WorldEdit light](https://github.com/2called-chaos/mcl/blob/master/vendor/handlers/_buildin/world_edit_light.rb)** selections, stacking and more (using 1.8 commands)\r\n  * **[Worlds](https://github.com/2called-chaos/mcl/blob/master/vendor/handlers/_buildin/worlds.rb)** Worldbook (switch between, create new, backup worlds)\r\n  * **[Misc](https://github.com/2called-chaos/mcl/blob/master/vendor/handlers/_buildin/misc.rb)** Miscellaneous commands\r\n\r\n\r\n## Custom handlers\r\nIf you want to add a custom handler (there is not much of documentation yet but feel free to ask if you can't figure it out) just place a ruby file inside `vendor/handlers`. As long as it doesn't start with two underscores it get's loaded. You can nest directories as much as you want as MCL traverses this directory recursively.\r\n\r\n\r\n### Gotchas\r\n  * Players fetched via player manager get cached. The cache get saved and cleared according to the player_cache_save_rate.\r\n    If you fetch players via `Player` model class be sure to call `#clear_cache` on the player manager beforehand.\r\n  * Always make sure to synchronize to the main loop if necessary (it is in a lot of cases) when working with async tasks.\r\n  * Promises are already synchronized to the main loop as they get called by it.\r\n  * Don't block the main loop to long (this includes everything except async code which isn't synchronized to the main loop).\r\n\r\n\r\n## Use MCL for multiple servers\r\nMCL supports multiple instances. Create a new configuration and start/stop the instance like this:\r\n```\r\nMCLI=config_name mcld start\r\n```\r\n\r\n## ACL - what?\r\nACL stands for Access Control List and it's not really that but think about it as permissions. Each player has a permission\r\nlevel which is a number starting from 0. Each command also has a permission level and if the player has equal or more points\r\nhe can execute the command.\r\n\r\nBecause numbers are confusing there is a mapping for several \"groups\" which resolve to a permission level like this:\r\n\r\n```\r\nroot    => 13333337\r\nadmin   => 1333337\r\nmod     => 133337\r\nbuilder => 13337\r\nmember  => 1337\r\nguest   => 0\r\n```\r\n\r\nNote: `!help` only shows you commands you have the permission for.\r\n\r\n## Ideas\r\n- Ability to make some commands available through playtime\r\n- Bridges (e.g. Twitter, IRC)\r\n- Notifications (e.g. server overloaded, server restart, version update, etc.)\r\n- Games (Mr. X)\r\n- Worldsettings (apply server properties / gamerules per world by using a text config)\r\n\r\n## Why is this useful?\r\nNormal modifications usually break on new releases and/or don't get updates for snapshot versions. Most other wrappers work by intercepting network data packets but this also tends to break sooner or later when things change. MCL on the other hand just parses console output and responds with commands. Unless the log output changes (which happened only once in Minecraft history as far as I know) or commands get removed MCL will continue to work. The drawback is obviously that MCL is much more limited.\r\n\r\nIn addition, Ruby makes it really easy to communicate and work with external services and that's where I see it's strengths and uses. Things which require really fast ticking checks are overkill for MCLs model.\r\n\r\n## Legal\r\n* © 2014, Sven Pachnit (www.bmonkeys.net)\r\n* MCL is licensed under the MIT license.\r\n* MCL is **not** affiliated with Mojang.\r\n* If you use MCL you also agree to the [Minecraft EULA](https://account.mojang.com/documents/minecraft_eula).\r\n* \"Minecraft\" is a trademark of Notch Development AB/Mojang. All rights belong to their respective owners.\r\n\r\n## Contributing\r\n  Contributions are very welcome! Either report errors, bugs and propose features or directly submit code:\r\n\r\n  1. Fork it\r\n  2. Create your feature branch (`git checkout -b my-new-feature`)\r\n  3. Commit your changes (`git commit -am 'Added some feature'`)\r\n  4. Push to the branch (`git push origin my-new-feature`)\r\n  5. Create new Pull Request\r\n","google":"UA-44867485-2","note":"Don't delete this file! It's used internally to help with page regeneration."}